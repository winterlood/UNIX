파일 속성으로 파일 찾기
===

Find
---

~~~
$ find 디렉토리 [-옵션]
~~~

> 파일 이름 or 속성을 이용하여 해당하는 파일을 찾아낸다 .

형태는 find "위치" -옵션 "파일명" or 속성 -print or -ls 이다.

결과는 지정된 디렉터리 아래까지, 파일명에 해당하는 파일을 모두 찾아, 그 경로를 표시해 준다.

결국, root에 지정하면 모든 파일을 다 뒤지는 경우에 해당한다.

뭐 옵션에는 여러가지가 존재 할 수있다.

1. -name
> 이름으로 파일을 찾는다

2. -user
> 소유자의 이름으로 파일을 찾는다.

3. -size
> 파일크기를 이용하여 찾는다. EX> find / -size +100 -print <br>
> 라는 명령을 사용하였을 경우 루트에서 부터 그 하위 모든 디렉토리 내에서 <br>
> 사이즈가 100 이상인 파일들을 찾아낸다.

4. -type
> 파일 종류를 통한 검색이다 <br>
 - d는 디렉토리 파일
 - s는 소켓파일
 - l은 심볼릭 링크
 - c는 문자 장치 파일
 - b는 블록 장치 파일
 - f는 일반 파일
 로 분류된다.
 
 5. -perm
 > 접근 권한을 이용한 검색
 
 -perm 700 같이 쓰면, 접근 권한이 700인 파일을 찾는다.
 
 6. -atime & -mtime
 > 파일의 접근 시간 & 수정 시간<br>
 > a = Acess, m = Manipulate
 ~~~
 $find / -atime +30 -print 
 $find / -atime 30 -print
 $find / -atime -30 -print
 ~~~
 > 현재 시간을 기준으로 30일 이상 전<br>
 > 현재 시간을 기준으로 30일 전<br>
 > 현재 시간을 기준으로 30일 이내<br>
 > -ntime 은 수정시간 이지만, 동일 한 m의 notation으로 사용한다.
 
 
~~~
$ find . -type d -perm 700 -print
~~~
 
다음과 같이 여러 검색조건을 합쳐서 사용 가능 하다.
 
검색된 파일 처리
---
~~~
$ find . -tpye d -perm 700 -exec rm -i {}\;
~~~

다음 명령은 현재 디렉토리에서 부터, 형태는 디렉토리이며, 권한은 700인 파일에 대해,

모두 동일하게, rm -i를 적용한다.

rm -i 는 명령대화식으로 처리하는 삭제명령이며,

{}\; 는 검색된 파일 명들을 의미한다.

파일 필터링
---

~~~
$ grep 패턴 파일 *
~~~
> 파일들을 대상으로 지정된 패턴의 문자열을 검색, 해당 문자열을 포함하는 줄을 출력한다.

~~~
$grep with you.txt
~~~
> you.txt에서 with 라는 패턴이 포함된 행을 출력함

~~~
$grep -i 패턴 파일
~~~
> 대소문자를 무시!

~~~
$grep -l 패턴
~~~
>해당 패턴이 들어있는 파일명출력

~~~
$grep -n 패턴
~~~
> 행번호도 함께 출력

~~~
$grep -v 패턴
~~~
> 원래 grep의 역을 출력한다.

~~~
$grep -c 패턴
~~~
> 패턴과 일치하는 줄의 수를 출력한다.

~~~
$grep -w 패턴
~~~
> 패턴이 하나의 온전한 단어로 된 것만 검색한다.<br>
> 하나의 온전한 단어는 띄어쓰기로 보통 구분된다.

정규표현식
---

1. ? 
> 한글자 or 아예 없는것.

2. .
> 임의의 한 문자

3. *
> 0번 이상 반복한다. (바로 앞의 것을)

3번에 대하여, a'*'b 라면, '*' 의 바로 앞문자는, a가 될것이고,

그럼 결과는 {ab...., aaab, a....ab} 등으로 나타날 것이다.

만약 a * 라면, {a,aa,aaa, ... aaaaaaaaaa} 처럼 나타날 것이다.

4. []
> 대괄 호 속 하나의 문자를 의미한다. <br>
> - 기호를 사용, 문자의 범위를 지정할 수 있다.

5. [^...]
> ^와 ] 사이의 문자를 제외한 나머지 문자 중 하나를 의미한다.<br>

예를 들어 

~~~
$ grep -i [^abc]d a.txt
~~~
위와 같이 명령을 할 경우,

a.txt 내에서, ab,bd,cd 를 포함하지 않는다.

6. ^
> 줄의 시작

~~~
$ grep -i ^a a.txt
~~~
위와 같은 명령은,
a.txt에서, a로 시작하는 행을 출력한다.

6. $
> 줄의 끝

~~~
$ grep -i 'a$' a.txt
~~~
위와 같은 명령은,
a.txt 내에서, a로 끝나는 행을 출력하게 된다.


Grep with Pipe
---

~~~
ls -asl | grep fan-www
~~~
> 다음같이 grep의 입력을 pipe를 통하여 ls -asl 의 출력결과로 줄 수 있다. <br>
> 모든 명령이 동일하다.


파일 정렬
---

~~~
$ sort [-option] file
~~~
> 파일을 정렬한다.

줄단위로 정렬한다.

~~~
$ sort -r a.txt
~~~
> a.txt를 줄단위로 역순으로 정렬한다.

파일 정렬 필드 지정
---

~~~
$ sort -k 3 a.txt
~~~
> 3번 필드를 기준으로 정렬

~~~
$ sort +1 -3 a.txt
~~~
> 1번 필드부터, 3번 필드 -1 까지를 기준으로 정렬

옵션은 다음과 같다.

1. -b
> blank의 준말로, 앞에 붙는 공백은 무시

2. -c
> 정렬이 되지 않은 상태로 출력한다.

3. -o
> 정렬된 내용을 지정된 파일에 저장 할 수 있는 기능

4. -n
> 숫자문자열의 경우, 숫자가 나타내는 값의 크기에 따라 정렬한다.

5. -t
> 필드와 필드 사이를 구분하는 구분문자를 지정된 문자로 정할 수 있음

파일 비교
---

~~~
$ cmp file1 file2
~~~
> file1과 file2가 equal 한지 비교한다.

같으면 아무것도 출력하지 않는다.
~~~
$ diff file1 file2
~~~
> file1 과 file2가 서로 다른지 비교한다.

요거는 이제 -i 옵션을 이용해 대소문자를 무시할 수 있다.

diff 출력 : 편집명령어
---

diff는 세가지 형태 중 하나로, 차이를 출력하는데,
무조건 추가되거나 삭제되거나 수정되는것은 두번째 파일이다.

1. 추가

9a10,13 은 9번째 이후라인부터 10~13 라인을 추가하면 동일해진다는 뜻이고,

$ n1 a n3,n4

요거는 이제, n1 이후의 행에, n3~n4 의 행을 추가 한다는 것이다.

2. 삭제

10,13d9 는 라인을 삭제하면 9번째라인 까지는 같다. 그리고 10~13번 라인이 더 있다

즉 두번째 파일이 10~13줄이 더있네요 라는 뜻이다.

$ n1,n2 d n3
 
요거는 이제, n1부터 n2까지를 삭제한다는 것이고, n3이후로 부터는 같다는 것이다.

3. 변경

1 C 1 이라는 뜻은, 첫번째 줄에서 다르다는 것이다.

$ n1,n2 c n3,n4

요거는 이제, n1과 n2를 n3부터 n4 까지 대치하면 똑같다는 것이다.

기타 파일 조작
===

파일 분할
---

~~~
$ split [-l n] 입력파일 [출력파일]
~~~
> 하나의 입력파일을 일정한 크기의 여러개의 작은 파일로 분할!

-l n 옵션으로 분할할 줄 수를 지정 할 수 있다.

~~~
$split -l -10 a.txt
~~~
> a.txt를 10줄 단위로 짤라서 파일로 저장한다!

파일명을 지정하면, 파일명+a,b,c,d 이런식으로 저장한다.

파일 합병
---



